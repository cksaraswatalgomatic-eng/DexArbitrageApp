generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model balance_timeseries {
  id        Int      @id @default(autoincrement())
  ts        Int
  exchange  String
  usdt_val  Float
  coin_val  Float
  total_usd Float
  raw_json  String

  @@index([ts])
  @@index([exchange, ts])
}

model portfolio_timeseries {
  id             Int   @id @default(autoincrement())
  ts             Int
  total_usd      Float
  exchanges_count Int

  @@index([ts])
}

model trades {
  id                          Int      @id
  fsm_type                    String
  pair                        String
  src_exchange                String
  dst_exchange                String
  status                      String
  user                        String
  estimated_profit_normalized Float
  estimated_profit            Float
  estimated_gross_profit      Float
  executed_profit_normalized  Float
  executed_profit             Float
  executed_gross_profit       Float
  executed_time_ms            Int
  estimated_src_price         Float
  estimated_dst_price         Float
  estimated_qty               Float
  executed_src_price          Float
  executed_dst_price          Float
  executed_qty_src            Float
  executed_qty_dst            Float
  props                       String
  creation_time               Int
  open_time                   Int
  last_update_time            Int
  tx_fee                      Float?
  commission_percent          Float?
  hedge                       Int?
  raw_json                    String

  @@index([last_update_time])
  @@index([status])
}
